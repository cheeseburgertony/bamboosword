"use strict";(self.webpackChunkbamboosword=self.webpackChunkbamboosword||[]).push([[491],{"./src/components/Menu/menu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultMenu:()=>DefaultMenu,VerticalMenu:()=>VerticalMenu,VerticalOpenMenu:()=>VerticalOpenMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>menu_stories});var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MenuContext=(0,react.createContext)({index:"0"}),Menu=(0,react.memo)((props=>{const{className,defaultIndex="0",mode="horizontal",style,children,onSelect,defaultOpenSubMenus}=props,[activeIndex,setActiveIndex]=(0,react.useState)(defaultIndex),classes=classnames_default()("bamboosword-menu",className,{"menu-vertical":"vertical"===mode,"menu-horizontal":"vertical"!==mode}),passedContext={index:activeIndex,onSelect:index=>{setActiveIndex(index),onSelect&&onSelect(index)},mode,defaultOpenSubMenus};return(0,jsx_runtime.jsx)("ul",{className:classes,style,"data-testid":"test-menu",children:(0,jsx_runtime.jsx)(MenuContext.Provider,{value:passedContext,children:react.Children.map(children,((child,index)=>{const childElement=child,{displayName}=childElement.type;if("MenuItem"===displayName||"SubMenu"===displayName)return react.cloneElement(childElement,{index:index.toString()});console.error("Warning: Menu has a child which is not a MenuItem component")}))})})})),menu=Menu;Menu.__docgenInfo={description:"为网站提供导航功能的菜单。支持横向纵向两种模式，支持下拉菜单。\n\n```javascript\nimport { Menu } from 'bamboosword'\n\n```",methods:[],displayName:"Menu",props:{defaultIndex:{required:!1,tsType:{name:"string"},description:"默认 active 的菜单项的索引值"},className:{required:!1,tsType:{name:"string"},description:""},mode:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"菜单类型 横向或者纵向"},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectIndex: string) => void",signature:{arguments:[{type:{name:"string"},name:"selectIndex"}],return:{name:"void"}}},description:"点击菜单项触发的回掉函数"},defaultOpenSubMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"设置子菜单的默认打开 只在纵向模式下生效"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var icon=__webpack_require__("./src/components/Icon/icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");const SubMenu=(0,react.memo)((props=>{const{className,index,title,children}=props,context=(0,react.useContext)(MenuContext),openedSubMenus=context.defaultOpenSubMenus,isOpened=!(!index||"vertical"!==context.mode)&&(null==openedSubMenus?void 0:openedSubMenus.includes(index)),[menuOpen,setMenuOpen]=(0,react.useState)(isOpened),classes=classnames_default()("menu-item submenu-item",className,{"is-active":context.index===index,"is-opened":menuOpen,"is-vertical":"vertical"===context.mode});let timer;const handleMouse=(e,toggle)=>{clearTimeout(timer),e.preventDefault(),timer=setTimeout((()=>{setMenuOpen(toggle)}),300)},clickEvents="vertical"===context.mode?{onClick:e=>{e.preventDefault(),setMenuOpen(!menuOpen)}}:{},hoverEvents="vertical"!==context.mode?{onMouseEnter:e=>handleMouse(e,!0),onMouseLeave:e=>handleMouse(e,!1)}:{};return(0,jsx_runtime.jsxs)("li",{className:classes,...hoverEvents,children:[(0,jsx_runtime.jsxs)("div",{className:"submenu-title",...clickEvents,children:[title,(0,jsx_runtime.jsx)(icon.A,{icon:"angle-down",className:"arrow-icon"})]}),(()=>{const subMenuClasses=classnames_default()("bamboosword-submenu",{"menu-opened":menuOpen}),childrenComponent=react.Children.map(children,((child,i)=>{const childrenElement=child;if("MenuItem"===childrenElement.type.displayName)return react.cloneElement(childrenElement,{index:`${index}-${i}`});console.error("Warning: SubMenu has a child which is not a MenuItem component")}));return(0,jsx_runtime.jsx)(transition.A,{in:menuOpen,timeout:300,animation:"zoom-in-top",children:(0,jsx_runtime.jsx)("ul",{className:subMenuClasses,children:childrenComponent})})})()]},index)}));SubMenu.displayName="SubMenu";const sub_menu=SubMenu;SubMenu.__docgenInfo={description:"",methods:[],displayName:"SubMenu",props:{index:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:"下拉菜单选项的文字"},className:{required:!1,tsType:{name:"string"},description:"下拉菜单选型的扩展类名"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const MenuItem=(0,react.memo)((props=>{const{className,disabled,index,style,children}=props,context=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item",className,{"is-disabled":disabled,"is-active":context.index===index});return(0,jsx_runtime.jsx)("li",{className:classes,style,onClick:()=>{context.onSelect&&!disabled&&"string"==typeof index&&context.onSelect(index)},children})}));MenuItem.displayName="MenuItem";const menu_item=MenuItem;MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{index:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"选项的自定义 style"},disabled:{required:!1,tsType:{name:"boolean"},description:"选项是否被禁用"},className:{required:!1,tsType:{name:"string"},description:"选项扩展的 className"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Menu_Menu=menu;Menu_Menu.Item=menu_item,Menu_Menu.SubMenu=sub_menu;const menu_stories={title:"Menu",component:Menu_Menu,tags:["autodocs"]},DefaultMenu={args:{defaultIndex:"0"},render:args=>(0,jsx_runtime.jsxs)(Menu_Menu,{...args,defaultIndex:"0",children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 2"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{disabled:!0,children:"Disabled"}),(0,jsx_runtime.jsxs)(Menu_Menu.SubMenu,{title:"下拉选项",children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 2"})]})]}),storyName:"默认Menu"},VerticalMenu={args:{defaultIndex:"0",mode:"vertical"},render:args=>(0,jsx_runtime.jsxs)(Menu_Menu,{...args,defaultIndex:"0",mode:"vertical",children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 2"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{disabled:!0,children:"Disabled"}),(0,jsx_runtime.jsxs)(Menu_Menu.SubMenu,{title:"点击下拉选项",children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 2"})]})]}),storyName:"纵向Menu"},VerticalOpenMenu={args:{defaultIndex:"0",mode:"vertical",defaultOpenSubMenus:["3"]},render:args=>(0,jsx_runtime.jsxs)(Menu_Menu,{...args,defaultIndex:"0",mode:"vertical",defaultOpenSubMenus:["3"],children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"Menu.Item 2"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{disabled:!0,children:"Disabled"}),(0,jsx_runtime.jsxs)(Menu_Menu.SubMenu,{title:"默认展开下拉选项",children:[(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 1"}),(0,jsx_runtime.jsx)(Menu_Menu.Item,{children:"下拉选项 2"})]})]}),storyName:"纵向默认展开Menu"},__namedExportsOrder=["DefaultMenu","VerticalMenu","VerticalOpenMenu"];DefaultMenu.parameters={...DefaultMenu.parameters,docs:{...DefaultMenu.parameters?.docs,source:{originalSource:"{\n  args: {\n    defaultIndex: '0'\n  },\n  render: args => <Menu {...args} defaultIndex='0'>\n      <Menu.Item>\n        Menu.Item 1\n      </Menu.Item>\n      <Menu.Item>\n        Menu.Item 2\n      </Menu.Item>\n      <Menu.Item disabled>\n        Disabled\n      </Menu.Item>\n      <Menu.SubMenu title='下拉选项'>\n        <Menu.Item>\n          下拉选项 1\n        </Menu.Item>\n        <Menu.Item>\n          下拉选项 2\n        </Menu.Item>\n      </Menu.SubMenu>\n    </Menu>\n}",...DefaultMenu.parameters?.docs?.source}}},VerticalMenu.parameters={...VerticalMenu.parameters,docs:{...VerticalMenu.parameters?.docs,source:{originalSource:"{\n  args: {\n    defaultIndex: '0',\n    mode: 'vertical'\n  },\n  render: args => <Menu {...args} defaultIndex='0' mode='vertical'>\n      <Menu.Item>\n        Menu.Item 1\n      </Menu.Item>\n      <Menu.Item>\n        Menu.Item 2\n      </Menu.Item>\n      <Menu.Item disabled>\n        Disabled\n      </Menu.Item>\n      <Menu.SubMenu title='点击下拉选项'>\n        <Menu.Item>\n          下拉选项 1\n        </Menu.Item>\n        <Menu.Item>\n          下拉选项 2\n        </Menu.Item>\n      </Menu.SubMenu>\n    </Menu>\n}",...VerticalMenu.parameters?.docs?.source}}},VerticalOpenMenu.parameters={...VerticalOpenMenu.parameters,docs:{...VerticalOpenMenu.parameters?.docs,source:{originalSource:"{\n  args: {\n    defaultIndex: '0',\n    mode: 'vertical',\n    defaultOpenSubMenus: ['3']\n  },\n  render: args => <Menu {...args} defaultIndex='0' mode='vertical' defaultOpenSubMenus={['3']}>\n      <Menu.Item>\n        Menu.Item 1\n      </Menu.Item>\n      <Menu.Item>\n        Menu.Item 2\n      </Menu.Item>\n      <Menu.Item disabled>\n        Disabled\n      </Menu.Item>\n      <Menu.SubMenu title='默认展开下拉选项'>\n        <Menu.Item>\n          下拉选项 1\n        </Menu.Item>\n        <Menu.Item>\n          下拉选项 2\n        </Menu.Item>\n      </Menu.SubMenu>\n    </Menu>\n}",...VerticalOpenMenu.parameters?.docs?.source}}}},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,I:()=>Icon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((props=>{const{theme,className,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_2___default()("bamboosword-icon",className,{[`icon-${theme}`]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.g,{className:classes,...restProps})})),__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"提供了一套常用的图标集合 基于 react-fontawesome。\n\n支持 react-fontawesome的所有属性 可以在这里查询 https://github.com/FortAwesome/react-fontawesome#basic\n\n支持 fontawesome 所有 free-solid-icons，可以在这里查看所有图标 https://fontawesome.com/icons?d=gallery&s=solid&m=free\n### 引用方法\n\n~~~js\nimport { Icon } from 'bamboosword'\n~~~",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'light' | 'dark'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"支持框架主题 根据主题显示不同的颜色"}},composes:["FontAwesomeIconProps"]}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((props=>{const{children,animation,classNames,wrapper,...restProps}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{classNames:classNames||animation,unmountOnExit:!0,appear:!0,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})})),__WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:"'zoom-in-top' | 'zoom-in-right' | 'zoom-in-bottom' | 'zoom-in-left'",elements:[{name:"literal",value:"'zoom-in-top'"},{name:"literal",value:"'zoom-in-right'"},{name:"literal",value:"'zoom-in-bottom'"},{name:"literal",value:"'zoom-in-left'"}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:""}}}}}]);